<div ng-cloak>
    <div class="row">
        <div class="col-md-12">
                <div >
                   <div class="row" id="content-wrapper">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" id="content">
							<div class="row" id="button-add-task-wrapper">
								<div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
									<input type="text"  class="form-control input-lg" id="search" ng-model="query" style="margin-bottom:20px" placeholder="Search"/>
								</div>
								<div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
									<a href="#" class="btn btn-primary btn-lg btn-block" style="margin-bottom:20px">
										<span class="glyphicon glyphicon-search"></span> Search
									</a>
								</div>
								<div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
									<a href="#" class="btn btn-primary btn-lg btn-block" id="add-task" data-toggle="modal" data-target="#addTaskModal" style="margin-bottom:20px"><span class="glyphicon glyphicon-plus"></span> Add task</a>
								</div>
								<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
									<p class="well" ng-if="query!=null && query!=''">Shows Tasks for: {{query}}</p>
								</div>
								<div class="modal fade" id="addTaskModal" tabindex="-1" role="dialog" aria-labelledby="addTaskModal" aria-hidden="true">
									<div class="modal-dialog">
										<!-- Formulario para aÃ±adir task-->
										<form class="form-horizontal" name="editForm" role="form" novalidate ng-submit="create()" show-validation>
										    <div class="modal-content">
										      	<div class="modal-header">
										        	<button type="button" class="close close-form" ng-click="clear()"><span aria-hidden="true">&times;</span></button>
										        	<h4 class="modal-title">Add Task</h4>
										      	</div>
										      	<div class="modal-body">
										        	<div class="row" id="input-form-wrapper">
														<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" id="form">
															  	<div class="form-group">
															    	<label for="title" class="col-sm-2 control-label hidden-xs">Title</label>
															    	<div class="col-sm-10">
															      		<input type="text" name="title" class="form-control" ng-model="task.title" id="title" placeholder="Title" required>
															    		<div ng-show="editForm.title.$invalid">
											                                <p class="help-block"
											                                   ng-show="editForm.title.$error.required" translate="entity.validation.required">
											                                    This field is required.
											                                </p>
											                            </div>
															    	</div>															    	
															  	</div>
															  	<div id="form-down">
																  	<div class="form-group" >
																    	<label for="description" class="col-sm-2 control-label hidden-xs">Description</label>
																    	<div class="col-sm-10">
																    		<div class="btn-toolbar" role="toolbar" style="margin-bottom:5px;" aria-label="tools">
																    			<div class="btn-group" role="group" aria-label="editor">
																				  	<button type="button" class="btn btn-default blod">
																				  		<span class="glyphicon glyphicon-bold" aria-hidden="true"></span>
																				  	</button>
																				  	<button type="button" class="btn btn-default em">
																				  		<span class="glyphicon glyphicon-italic" aria-hidden="true"></span>
																				  	</button>
																				</div>
																	    		<div class="btn-group" role="group" aria-label="editor">
																				  	<button type="button" class="btn btn-default br">
																				  		<span class="glyphicon glyphicon-console" aria-hidden="true"></span>
																				  	</button>
																				  	<button type="button" class="btn btn-default e_link">
																				  		<span class="glyphicon glyphicon-link" aria-hidden="true"></span>
																				  	</button>
																				  	<button type="button" class="btn btn-default e_ul">
																				  		<span class="glyphicon glyphicon-th-list" aria-hidden="true"></span>
																				  	</button>
																				</div>
																			</div>
																      		<textarea rows="10" class="form-control" name="description" ng-model="task.description" id="description" placeholder="Description" required></textarea>
																    		<div ng-show="editForm.description.$invalid">
												                                <p class="help-block"
												                                   ng-show="editForm.description.$error.required" translate="entity.validation.required">
												                                    This field is required.
												                                </p>
												                            </div>
																    	
																    	</div>
																  	</div>
																  	<div class="form-group">
																  		<label for="priority" class="col-sm-2 col-xs-4 control-label">Priority</label>
																    	<div class="col-sm-4 col-xs-8">	
																    		<select id="priority" ng-model="task.priority" class="form-control">
																		  		<option value="1">1-Extreme Urgency</option>
																		  		<option value="2">2-Urgency</option>
																		  		<option value="3" selected="selected">3-Moderate</option>
																		  		<option value="4">4-Low</option>
																		  		<option value="5">5-Very Low</option>
																			</select>
																		</div>
																		<label for="end_date" class="col-sm-2 col-xs-4 control-label">End Date</label>
																    	<div class="col-sm-4 col-xs-8">	
																    		<input type="date" name="endDate" ng-model="task.endDate" id="end_date" class="form-control" placeholder="yyyy-MM-dd" required/>
																    		<div ng-show="editForm.endDate.$invalid">
												                                <p class="help-block"
												                                   ng-show="editForm.endDate.$error.required" translate="entity.validation.required">
												                                    This field is required.
												                                </p>
												                            </div>
																		</div>
																  	</div>
																  	<div class="form-group">
																  		<label for="topic" class="col-sm-2 col-xs-4 control-label">Topic</label>
																    	<div class="col-sm-4 col-xs-8">	
																    		<input type="text" id="topic" ng-model="task.topic" class="form-control" placeholder="General"/>
																		</div>
																		<label for="type" class="col-sm-2 col-xs-4 control-label">Type</label>
																    	<div class="col-sm-4 col-xs-8">	
																    		<input type="text" id="type" ng-model="task.type" class="form-control" placeholder="Execute"/>
																    		<input type="text" id="id" class="form-control hidden" />
																		</div>
																  	</div>
																 </div>												
														</div>
													</div>
										      	</div>
										      	<div class="modal-footer">
										        	<button type="button" class="btn btn-danger" ng-click="clear()" data-dismiss="modal"><span class="glyphicon glyphicon-remove-circle"></span> Cancel</button>
										        	<button  id="save" type="submit" ng-disabled="editForm.$invalid" class="btn btn-primary"><span class="glyphicon glyphicon-floppy-disk"></span> Save task</button>
										      	</div>
										    </div><!-- /.modal-content -->
									    </form>
									</div><!-- /.modal-dialog -->
								</div><!-- /.modal -->
							</div>
							
							<div class="container" id="task-list-wrapper">
								<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" id="task-list">
									<div class="row task-wrapper" ng-repeat="task in tasks | filter:query">
										<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 task">
											<div class="row task-header" id="{{task.id}}">
												<div class="col-lg-6 col-md-6 col-sm-12 col-xs-9">
													<h4>
														<span class="glyphicon glyphicon-unchecked task-check" ng-click="completeTask(task.id)" style="background-color:#fff"></span>
														<span class="task-title" > {{task.title}}</span>
													</h4>
													<!-- glyphicon glyphicon-check -->
												</div>
												<div class="col-lg-2 col-md-2 col-sm-3 col-xs-6 hidden-xs">
													<p>
														<b><span class="glyphicon glyphicon-time "></span>
														<span class="task-end_date"> {{task.endDate}}</span></b>
													</p>
												</div>
												<div class="col-lg-3 col-md-3 col-sm-7 col-xs-6 hidden-xs">
													<p>
														<b><span class="glyphicon glyphicon-flash"></span>
														<span class="task-priority" > {{task.priority}}</span></b>
													</p>
												</div>
												<div class="col-lg-1 col-md-1 col-sm-2 col-xs-3">
													<p class="text-right button-plus">
														<a class="btn btn-default btn-block btn-xs" data-toggle="collapse" href="#task-content-{{task.id}}" aria-expanded="false" aria-controls="task-content-{{task.id}}"> 
															<span class="glyphicon glyphicon-plus"></span>
														</a>
													</p>
												</div>
											</div>
											<div class="row collapse taskcontent task-content" id="task-content-{{task.id}}">
												<div class="col-lg-2 col-md-2 col-sm-3 col-xs-6 visible-xs">
													<p>
														<b><span class="glyphicon glyphicon-time "></span>
														<span class="task-end_date" > {{task.endDate}}</span></b>
													</p>
												</div>
												<div class="col-lg-3 col-md-3 col-sm-7 col-xs-6 visible-xs">
													<p><b><span class="glyphicon glyphicon-flash"></span><span class="task-priority"> {{task.priority}}</span></b></p>
												</div>
											  	<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
											  		<p><b>Description:</b></p>
											  		<p class="task-description">{{task.description}}</p>
										    	</div>
										    	<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
										    		<div class="row task-tools" id="">
										    			<div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
															<p><b class="">Topic: </b><a class="task-topic" ng-click="filtrarPorTopic(task.id)" href="#">{{task.topic}}</a></p>
														</div>
														<div class="col-lg-3 col-md-3 col-sm-3 col-xs-6">
															<p><b class="">Type: </b><a class="task-type"  ng-click="filtrarPorTipo(task.id)" href="#">{{task.type}}</a></p>
														</div>
														<div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 col-lg-offset-2 col-md-offset-2">
															<div class="btn-group btn-group-justified" role="group" >
																<a type="button" ng-click="deleteid(task.id)" class="btn btn-default btn-sm delete-task"><span class="glyphicon glyphicon-trash"></span> Delete</a>
																<a type="button" ng-click="update(task.id)" class="btn btn-default btn-sm edit-task"><span class="glyphicon glyphicon-pencil"></span> Edit </a>
															</div>
														</div>
										    		</div>
										    	</div>
											</div>
										</div>
									</div>
								</div> <!-- task-list -->
							</div> <!-- task-list-wrapper -->
						</div>
					</div>
                </div>
        </div>
    </div>
</div>
<div class="modal fade" id="deleteTaskConfirmation">
        <div class="modal-dialog">
            <div class="modal-content">
                <form name="deleteForm" ng-submit="confirmDelete(task.id)">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                                ng-click="clear()">&times;</button>
                        <h4 class="modal-title">Confirm delete operation</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to delete this Task?</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="clear()">
                            <span class="glyphicon glyphicon-ban-circle"></span>&nbsp;<span translate="entity.action.cancel">Cancel</span>
                        </button>
                        <button type="submit" ng-disabled="deleteForm.$invalid" class="btn btn-danger">
                            <span class="glyphicon glyphicon-remove-circle"></span>&nbsp;<span translate="entity.action.delete">Delete</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>