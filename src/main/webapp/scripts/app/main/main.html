<div class="container-tasks" ng-cloak>
    <div class="row">
        <div class="col-md-12">
                <div >
                   <div class="row" id="content-wrapper">
						<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"  id="content">
							<div class="row" id="float-menu" ng-mouseleave="hideMenu()"><!--  -->
								<div class="row" id="menu-show">
									<div class="row" id="completed-wrapper">
										<div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 col-lg-offset-8 col-md-offset-8 col-sm-offset-8 col-xs-offset-8">
											<a href="#" id="viewCompleted" class="btn btn-success float-right" ng-click="viewCompleted()"
													data-toggle="tooltip" data-placement="left" title="Completed" >
												<span class="glyphicon glyphicon-ok"></span>
											</a>											
										</div>
									</div>
									<div class="row" id="search-wrapper">
										<div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
											<input type="text"  class="form-control" id="search" ng-model="query" style="margin-bottom:20px" placeholder="{{'main.filter' | translate}}"/>
										</div>
										<div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
											<a href="#" id="removequery" class="btn btn-warning btn-block " ng-click="removeQuery()" style="margin-bottom:20px">
												<span class="glyphicon glyphicon-erase"></span>
											</a>
										</div>
									</div>
								</div>
								<div class="col-lg-2 col-md-2 col-sm-6 col-xs-6 add-button-wrapper text-right">
									<a href="#" class="btn btn-success btn-lg add-button text-center"
											id="add-task" data-toggle="modal" data-target="#addTaskModal"
											style="margin-bottom: 20px"
											ng-mouseover="showMenu()"
											><span
											class="glyphicon glyphicon-pencil"></span> </a>
								</div>
							</div>
							<div class="row" id="button-add-task-wrapper ">
								
								<div class="col-lg-4 col-md-6 col-sm-6 col-xs-12" id="alerts-wrapper">
									<p class="alert alert-success" ng-if="query!=null && query!=''" >
										<span translate="main.shows.query" translate-values="{query: '{{query}}'}" ></span>
										<a class="btn btn-success clear-filter" href="#" ng-click="removeQuery()"> 
											<span class="glyphicon glyphicon-erase"></span></a>
									</p>
								</div>
								<div class="modal fade" id="addTaskModal" tabindex="-1" role="dialog" aria-labelledby="addTaskModal" aria-hidden="true">
									<div class="modal-dialog">
										<!-- Formulario para aÃ±adir task-->
										<form class="form-horizontal" name="editForm" role="form" novalidate ng-submit="create()" show-validation>
										    <div class="modal-content task-yellow">
										      	<div class="modal-header">
										        	<!-- <button type="button" class="close close-form" ng-click="clear()"><span aria-hidden="true">&times;</span></button> -->
										        	<div class="form-group" style="margin-bottom:0px;">
														<div class="col-sm-12 wrapper-input">
															 <input type="text" name="title" class="form-control modal-input"  autocomplete="off" ng-model="task.title" id="title" placeholder="<< Title >>" required>
															 <span class="modal-required" ng-show="editForm.title.$error.required">*</span>
														</div>															    	
													</div>
										      	</div>
										      	<div class="modal-body">
										        	<div class="row" id="input-form-wrapper">
														<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" id="form">															  	
															  	<div id="form-down">
															  		<div class="form-group">
																  		<label for="priority" class="col-sm-2 col-xs-4 control-label text-right"><span class="glyphicon glyphicon-time" aria-hidden="true"></span></label>
																    	<div class="col-sm-4 col-xs-8" style="height: 35px;">	
																    		<input type="date" name="endDate" ng-model="task.endDate" id="end_date" class="form-control modal-input" placeholder="yyyy-MM-dd" required/>																    		
												                            <span class="modal-required" ng-show="editForm.endDate.$error.required" >*</span>												                            
																		</div>
																		<label for="end_date" class="col-sm-1 col-xs-4 control-label"><span class="glyphicon glyphicon-flash" aria-hidden="true"></span></label>
																    	<div class="col-sm-4 col-xs-8">	
																    		<select id="priority" ng-model="task.priority" class="form-control modal-input">
																		  		<option value="1">1-Extreme Urgency</option>
																		  		<option value="2">2-Urgency</option>
																		  		<option value="3" selected="selected">3-Moderate</option>
																		  		<option value="4">4-Low</option>
																		  		<option value="5">5-Very Low</option>
																			</select>																    		
																		</div>
																  	</div>
																  	<div class="form-group" style="height: 290px;">
																    	<div class="col-sm-12 text-center"> 	
																    		<div class="btn-toolbar" role="toolbar" style="margin-bottom:5px;" aria-label="tools">
																    			<div class="btn-group" role="group" aria-label="editor">
																				  	<button type="button" ng-click="addBlod()" class="btn btn-default blod">
																				  		<span class="glyphicon glyphicon-bold" aria-hidden="true"></span>
																				  	</button>
																				  	<button type="button" ng-click="addEm()" class="btn btn-default em">
																				  		<span class="glyphicon glyphicon-italic" aria-hidden="true"></span>
																				  	</button>
																				</div>
																	    		<div class="btn-group" role="group" aria-label="editor">
																				  	<button type="button" ng-click="addBr()" class="btn btn-default br">
																				  		<span class="glyphicon glyphicon-console" aria-hidden="true"></span>
																				  	</button>
																				  	<button type="button" ng-click="addLink()" class="btn btn-default e_link">
																				  		<span class="glyphicon glyphicon-link" aria-hidden="true"></span>
																				  	</button>
																				  	<button type="button" ng-click="addList()" class="btn btn-default e_ul">
																				  		<span class="glyphicon glyphicon-th-list" aria-hidden="true"></span>
																				  	</button>
																				</div>
																			</div>
																      		<textarea rows="10" class="form-control modal-input" style="text-align:justify;text-transform:none;" 
																      					name="description" ng-model="task.description" 
																      					id="description" placeholder="DESCRIPTION" required></textarea>
																    		
																    		<div ng-show="editForm.description.$invalid">
												                                <span class="modal-required" style="top:-40px;"
												                                   ng-show="editForm.description.$error.required">
												                                    *
												                                </span>
												                            </div>
																    	
																    	</div>
																  	</div>
																  	
																  	<div class="form-group">
																    	<div class="col-sm-6 col-xs-12">	
																    		<input type="text" id="topic" ng-model="task.topic" class="form-control modal-input" placeholder="Topic"/>
																		</div>																		
																    	<div class="col-sm-6 col-xs-12">	
																    		<input type="text" id="type" ng-model="task.type" class="form-control modal-input" placeholder="Type"/>
																    		<input type="text" id="id" class="form-control hidden" />
																		</div>
																  	</div>
																 </div>												
														</div>
													</div>
										      	</div>
										      	<div class="modal-footer text-center">
										        	<button type="button" class="btn btn-danger" ng-click="clear()" data-dismiss="modal"><span class="glyphicon glyphicon-remove-circle"></span> Cancel</button>
										        	<button  id="save" type="submit" ng-disabled="editForm.$invalid" class="btn btn-primary"><span class="glyphicon glyphicon-floppy-disk"></span> Save task</button>
										      	</div>
										    </div><!-- /.modal-content -->
									    </form>
									</div><!-- /.modal-dialog -->
								</div><!-- /.modal -->
							</div>
							
							<div class="col-md-12" id="task-list-wrapper">
								<div class="row" id="task-list-per-priority" >
									<div class="col-md-3" id="priority-1">
										<div class="row text-center"><div><h4>Extreme Urgency</h4></div></div>
										<div class="row">
											<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 task-wrapper" ng-repeat="(i,task) in tasks | filter:query" ng-if="task.priority==1">
												<div  class="col-lg-12 col-md-12 col-sm-12 col-xs-12 task {{taskColour(task.id)}}">
													<div class="row task-header" id="{{task.id}}">
														<div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
															<h4>
																<span class="task-title" >{{task.title}}</span>
															</h4>
														</div>
														<div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 text-right">
															<div class="btn-group btn-group-justified btn-tools-group" role="group" >
																<a type="button" ng-click="completeTask(task.id)" class="btn-link btn-sm btn-tools task-check "><span class="glyphicon glyphicon-ok"></span> </a>																
																<a type="button" ng-click="update(task.id)" class="btn-link btn-sm btn-tools edit-task"><span class="glyphicon glyphicon-pencil"></span> </a>
																<a type="button" ng-click="deleteid(task.id)" class="btn-link btn-sm btn-tools delete-task"><span class="glyphicon glyphicon-trash"></span> </a>
															</div>
														</div>												
													</div>
													<div class="row taskcontent task-content" id="task-content-{{task.id}}">
													  	<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-justify">											  
													  		<p class="task-description" ng-bind-html="task.description"></p>
												    	</div>
												    	<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
												    		<div class="row text-center" id="">
												    			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
																	<small><b class=""></b><a class="task-topic" ng-click="filtrarPorTopic(task.topic)" href="#">{{task.topic}}</a> | </small>
																	<small><b class=""> </b><a class="task-type"  ng-click="filtrarPorTipo(task.type)" href="#"> {{task.type}}</a></small>
																</div>
												    		</div>
												    	</div>												    													    	
														<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 text-right">
															<small>
																<span class="glyphicon glyphicon-time "></span>
																<span class="task-end_date" > {{task.endDate | date: "yyyy-MM-dd"}}</span>
															</small>
														</div>
													</div>
												</div>
												
											</div>
										</div>
									</div><!-- priority-1 -->
									<div class="col-md-3" id="priority-2">
										<div class="row text-center"><div><h4>Urgency</h4></div></div>
										<div class="row">
											<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 task-wrapper" ng-repeat="(i,task) in tasks | filter:query" ng-if="task.priority==2">
												<div  class="col-lg-12 col-md-12 col-sm-12 col-xs-12 task {{taskColour(task.id)}}">
													<div class="row task-header" id="{{task.id}}">
														<div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
															<h4>
																<span class="task-title" >{{task.title}}</span>
															</h4>
														</div>
														<div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 text-right">
															<div class="btn-group btn-group-justified btn-tools-group" role="group" >
																<a type="button" ng-click="completeTask(task.id)" class="btn-link btn-sm btn-tools task-check "><span class="glyphicon glyphicon-ok"></span> </a>																
																<a type="button" ng-click="update(task.id)" class="btn-link btn-sm btn-tools edit-task"><span class="glyphicon glyphicon-pencil"></span> </a>
																<a type="button" ng-click="deleteid(task.id)" class="btn-link btn-sm btn-tools delete-task"><span class="glyphicon glyphicon-trash"></span> </a>
															</div>
														</div>												
													</div>
													<div class="row taskcontent task-content" id="task-content-{{task.id}}">
													  	<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-justify">											  
													  		<p class="task-description" ng-bind-html="task.description"></p>
												    	</div>
												    	<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
												    		<div class="row text-center" id="">
												    			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
																	<small><b class=""></b><a class="task-topic" ng-click="filtrarPorTopic(task.topic)" href="#">{{task.topic}}</a> | </small>
																	<small><b class=""> </b><a class="task-type"  ng-click="filtrarPorTipo(task.type)" href="#"> {{task.type}}</a></small>
																</div>
												    		</div>
												    	</div>												    													    	
														<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 text-right">
															<small>
																<span class="glyphicon glyphicon-time "></span>
																<span class="task-end_date" > {{task.endDate | date: "yyyy-MM-dd"}}</span>
															</small>
														</div>
													</div>
												</div>
												
											</div>
										</div>
									</div><!-- priority-2 -->
									<div class="col-md-3" id="priority-3">
										<div class="row text-center"><div><h4>Moderate</h4></div></div>
										<div class="row">
											<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 task-wrapper" ng-repeat="(i,task) in tasks | filter:query" ng-if="task.priority==3">
												<div  class="col-lg-12 col-md-12 col-sm-12 col-xs-12 task {{taskColour(task.id)}}">
													<div class="row task-header" id="{{task.id}}">
														<div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
															<h4>
																<span class="task-title" >{{task.title}}</span>
															</h4>
														</div>
														<div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 text-right">
															<div class="btn-group btn-group-justified btn-tools-group" role="group" >
																<a type="button" ng-click="completeTask(task.id)" class="btn-link btn-sm btn-tools task-check "><span class="glyphicon glyphicon-ok"></span> </a>																
																<a type="button" ng-click="update(task.id)" class="btn-link btn-sm btn-tools edit-task"><span class="glyphicon glyphicon-pencil"></span> </a>
																<a type="button" ng-click="deleteid(task.id)" class="btn-link btn-sm btn-tools delete-task"><span class="glyphicon glyphicon-trash"></span> </a>
															</div>
														</div>												
													</div>
													<div class="row taskcontent task-content" id="task-content-{{task.id}}">
													  	<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-justify">											  
													  		<p class="task-description" ng-bind-html="task.description"></p>
												    	</div>
												    	<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
												    		<div class="row text-center" id="">
												    			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
																	<small><b class=""></b><a class="task-topic" ng-click="filtrarPorTopic(task.topic)" href="#">{{task.topic}}</a> | </small>
																	<small><b class=""> </b><a class="task-type"  ng-click="filtrarPorTipo(task.type)" href="#"> {{task.type}}</a></small>
																</div>
												    		</div>
												    	</div>												    													    	
														<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 text-right">
															<small>
																<span class="glyphicon glyphicon-time "></span>
																<span class="task-end_date" > {{task.endDate | date: "yyyy-MM-dd"}}</span>
															</small>
														</div>
													</div>
												</div>
												
											</div>
										</div>
									</div><!-- priority-3 -->
									<div class="col-md-3" id="priority-4">
										<div class="row text-center"><div><h4>Low</h4></div></div>
										<div class="row">
											<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 task-wrapper" ng-repeat="(i,task) in tasks | filter:query" ng-if="task.priority==4">
												<div  class="col-lg-12 col-md-12 col-sm-12 col-xs-12 task {{taskColour(task.id)}}">
													<div class="row task-header" id="{{task.id}}">
														<div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
															<h4>
																<span class="task-title" >{{task.title}}</span>
															</h4>
														</div>
														<div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 text-right">
															<div class="btn-group btn-group-justified btn-tools-group" role="group" >
																<a type="button" ng-click="completeTask(task.id)" class="btn-link btn-sm btn-tools task-check "><span class="glyphicon glyphicon-ok"></span> </a>																
																<a type="button" ng-click="update(task.id)" class="btn-link btn-sm btn-tools edit-task"><span class="glyphicon glyphicon-pencil"></span> </a>
																<a type="button" ng-click="deleteid(task.id)" class="btn-link btn-sm btn-tools delete-task"><span class="glyphicon glyphicon-trash"></span> </a>
															</div>
														</div>												
													</div>
													<div class="row taskcontent task-content" id="task-content-{{task.id}}">
													  	<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-justify">											  
													  		<p class="task-description" ng-bind-html="task.description"></p>
												    	</div>
												    	<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
												    		<div class="row text-center" id="">
												    			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
																	<small><b class=""></b><a class="task-topic" ng-click="filtrarPorTopic(task.topic)" href="#">{{task.topic}}</a> | </small>
																	<small><b class=""> </b><a class="task-type"  ng-click="filtrarPorTipo(task.type)" href="#"> {{task.type}}</a></small>
																</div>
												    		</div>
												    	</div>												    													    	
														<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 text-right">
															<small>
																<span class="glyphicon glyphicon-time "></span>
																<span class="task-end_date" > {{task.endDate | date: "yyyy-MM-dd"}}</span>
															</small>
														</div>
													</div>
												</div>
												
											</div>
										</div>
									</div><!-- priority-3 -->										
								</div> <!-- task-list -->
							</div> <!-- task-list-wrapper -->
						</div>
					</div>
                </div>
        </div>
    </div>
</div>
<div class="modal fade" id="deleteTaskConfirmation">
        <div class="modal-dialog">
            <div class="modal-content">
                <form name="deleteForm" ng-submit="confirmDelete(task.id)">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                                ng-click="clear()">&times;</button>
                        <h4 class="modal-title">Confirm delete operation</h4>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to delete this Task?</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="clear()">
                            <span class="glyphicon glyphicon-ban-circle"></span>&nbsp;<span translate="entity.action.cancel">Cancel</span>
                        </button>
                        <button type="submit" ng-disabled="deleteForm.$invalid" class="btn btn-danger">
                            <span class="glyphicon glyphicon-remove-circle"></span>&nbsp;<span translate="entity.action.delete">Delete</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>